<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Embed Player</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .video-aspect-ratio {
            position: relative;
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            background: #000;
        }
        .video-aspect-ratio iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }
        .glass-effect {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        /* Loading animation for the "Refreshed" feel */
        @keyframes pulse-border {
            0% { border-color: rgba(59, 130, 246, 0.5); }
            50% { border-color: rgba(59, 130, 246, 1); }
            100% { border-color: rgba(59, 130, 246, 0.5); }
        }
        .loading-active {
            animation: pulse-border 2s infinite;
        }
    </style>
</head>
<body class="bg-slate-950 text-slate-100 min-h-screen flex flex-col">

    <!-- Header -->
    <header class="p-6 border-b border-slate-800 glass-effect sticky top-0 z-10">
        <div class="max-w-6xl mx-auto flex flex-col md:flex-row md:items-center justify-between gap-4">
            <div>
                <h1 class="text-2xl font-bold bg-gradient-to-r from-blue-400 to-indigo-500 bg-clip-text text-transparent">
                    Universal Embed Player
                </h1>
                <p class="text-slate-400 text-xs">Paste your embed URL below to start watching</p>
            </div>
            
            <div class="flex flex-1 max-w-2xl gap-2">
                <input 
                    type="text" 
                    id="urlInput" 
                    placeholder="Enter URL (e.g., https://short.icu/...)" 
                    class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"
                >
                <button 
                    onclick="loadContent()" 
                    class="bg-blue-600 hover:bg-blue-500 px-6 py-2 rounded-lg font-medium text-sm transition-all whitespace-nowrap active:scale-95"
                >
                    Load Content
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow p-4 md:p-8">
        <div class="max-w-6xl mx-auto space-y-6">
            
            <!-- Player Area -->
            <div id="playerWrapper" class="rounded-2xl overflow-hidden shadow-2xl border border-slate-800 bg-black transition-all duration-500">
                <div id="placeholder" class="video-aspect-ratio flex flex-col items-center justify-center p-8 text-center">
                    <div class="absolute inset-0 flex flex-col items-center justify-center space-y-4">
                        <svg class="w-16 h-16 text-slate-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <div>
                            <p class="text-lg font-medium text-slate-400">Ready to play</p>
                            <p class="text-sm text-slate-600">Enter a URL in the header to initialize the stream</p>
                        </div>
                    </div>
                </div>
                
                <div id="iframeContainer" class="video-aspect-ratio hidden">
                    <iframe 
                        id="mainPlayer" 
                        src="" 
                        allowfullscreen 
                        allow="autoplay; encrypted-media; picture-in-picture"
                        title="Content Player">
                    </iframe>
                </div>
            </div>

            <!-- Stats/Info Grid -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="glass-effect p-6 rounded-xl">
                    <h3 class="text-blue-400 font-semibold mb-2 flex items-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                        Current URL
                    </h3>
                    <p id="displayUrl" class="text-slate-400 text-sm break-all italic">None loaded</p>
                </div>
                
                <div class="glass-effect p-6 rounded-xl">
                    <h3 class="text-indigo-400 font-semibold mb-2 flex items-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                        Security Note
                    </h3>
                    <p class="text-slate-400 text-sm">If you see a "Refused to connect" error, the source website has blocked embedding for security reasons.</p>
                </div>

                <div class="glass-effect p-6 rounded-xl">
                    <h3 class="text-emerald-400 font-semibold mb-2 flex items-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M5 13l4 4L19 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                        Compatibility
                    </h3>
                    <p class="text-slate-400 text-sm">Supports YouTube, Vimeo, Twitch, and most direct video hosting providers.</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="p-6 text-center text-slate-600 text-xs">
        <p>&copy; 2024 Universal Embed Player â€¢ Works best with HTTPS links</p>
    </footer>

    <script>
        function loadContent() {
            const input = document.getElementById('urlInput');
            const player = document.getElementById('mainPlayer');
            const placeholder = document.getElementById('placeholder');
            const container = document.getElementById('iframeContainer');
            const displayUrl = document.getElementById('displayUrl');
            const wrapper = document.getElementById('playerWrapper');

            let url = input.value.trim();

            if (!url) {
                showToast("Please enter a valid URL first.");
                return;
            }

            // Basic URL cleanup (ensure http/https)
            if (!url.startsWith('http://') && !url.startsWith('https://')) {
                url = 'https://' + url;
            }

            // UI Feedback
            wrapper.classList.add('loading-active');
            displayUrl.textContent = url;
            
            // Switch from placeholder to iframe
            placeholder.classList.add('hidden');
            container.classList.remove('hidden');

            // Load the source
            player.src = url;

            // Remove loading effect after a delay
            setTimeout(() => {
                wrapper.classList.remove('loading-active');
            }, 1000);
        }

        function showToast(message) {
            // Simple notification system
            const toast = document.createElement('div');
            toast.className = 'fixed bottom-4 right-4 bg-red-600 text-white px-6 py-3 rounded-lg shadow-xl z-50 animate-bounce';
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        // Allow 'Enter' key to trigger loading
        document.getElementById('urlInput').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                loadContent();
            }
        });
    </script>
</body>
</html>

